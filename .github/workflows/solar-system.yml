name: Solar-Sytem-Unit-Testin
on: 
  workflow_dispatch:
  push:
    branches: 
      - main
      - "feature/*"
env:
  MONGO_URI: "mongo+srv://supercluster.d83jj.mongodb.net/superData"
  MONGO_USERNAME: ${{ vars.MONGO_USERNAME}}
  MONGO_PASSWORD: ${{ secrets.MONGO_PASSWORD}}
jobs:
  Unit-Testing:
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]
    concurrency: 
      cancel-in-progress: true
      group: prod
    runs-on: ${{matrix.os}}
    steps:
      - name: Checkout
        uses: actions/checkout@v4.2.2
      
      - name: Setting up Node JS
        uses: actions/checkout@v4.2.2
        with:
          node-version: '18'
      
      - name: Installing Dependencies
        run: |
          npm -v
          node -v
          npm install

      - name: Testing the App
        timeout-minutes: 3
        run: npm test


      - name: Upload the artifacts.10th
        uses: actions/upload-artifact@v4
        with:
          name: my-artifacts
          path: test-results.xml